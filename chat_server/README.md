# epoll을 사용한 멀티플렉싱 채팅서버구현하기(C++)

## 환경
> MacOS, Docker, Linux
<br><br>
## 클라이언트/서버 구조
1. 멀티 프로세스 기반의 서버
  - 파이프라인을 이용한 통신
2. 멀티 쓰레드 기반의 서버
  - 임계영역 주의
3. IO 멀티플렉싱
  - 멀티플렉싱 : 하나의 통신채널을 통해서 둘 이상의 데이터를 전송하는데 사용되는 기술
  - IO 멀티플렉싱 기반의 서버는 select 함수를 이용하여 하나의 프로세스가 여러개의 소켓을 관리하는 서버이다.
## epoll이란?
- 리눅스에서만 호환성을 갖는다.
- select(), poll() 함수에 비해서 파일 디스크립터의 준비 상태를 알리는 방식에서 더 유연성을 갖는다.
- 방식
  LT(Level triggered) | ET(Edge triggered)
  | ---------- | ---------- |
  상태변화를 감지하고자 하는 파일 디스크립터가 준비되면 무조건 알리는 방식 | 항상 새로 준비된 파일 디스크립터에 대해서만 알리는 방식
- epoll() API 함수
  + epoll_create() 함수
  + epoll_ctl() 함수
  + epoll_wait() 함수
  
<br><br>
## 서버 클래스
- 채팅방의 기본 기능을 구현하기위해 다중 클라이언트 액세스 지원
- 서비스를 시작하고 수신포트를 설정하고 클라이언트가 연결될 때까지 기다린다.
- 클라이언트가 연결되면 환영 메시지를 보내고 연결을 기록한다.
- 클라이언트가 종료를 요청하면 해당 연결 정보를 정리한다.
